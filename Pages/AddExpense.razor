@using Test1.Data
@page "/expenses/new"

@using Test1.Services
@using Test1.Data.Models;
@inject NavigationManager NavigationManager
@inject CategoryService CService
@inject ExpenseService Service;


<PageTitle>Add Expense</PageTitle>

<h1>Add Expense</h1>

<form @onsubmit="InsertExpense">
    <ExpenseForm expense="expense"></ExpenseForm>
    <button type="submit" class="btn btn-primary">Save</button>
</form>


@code {


    private Expense expense = new Expense()
    {
        Date = DateTime.UtcNow
    };



    void InsertExpense()
    {
        Service.AddExpense(expense);
        NavigationManager.NavigateTo("/expenses");

    }




}

